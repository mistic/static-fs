language: node_js

os:
  - windows
  - linux
  - osx

matrix:
  fast_finish: true
  include:
    - name: "windows build"
      os: windows
      cache: false # windows cache uploads are slow
      env: YARN_GPG=no # starts gpg-agent that never exits

    - name: "macOS build"
      os: osx

    - name: "linux build"
      os: linux

    # Supported node_js version
    - node_js: "10.15.2"

cache: yarn

before_install:
  - curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version 1.10.1
  - export PATH="$HOME/.yarn/bin:$PATH"
